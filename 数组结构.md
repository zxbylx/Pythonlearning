# 数组结构

### 1.线性表

静态数据结构：使用连续分配的内存空间来存储有序表中的数据。在编译时就给相关的变量分配好内存空间。在建立静态数据结构的初期，必须事先声明最大可能要占用的固定内存空间，因此容易造成内存的浪费，数组类型就是典型的静态数据结构。

优点：设计时相当简单，而且读取与修改表中任意一个元素的时间都是固定的。

缺点：删除或加入数据时，需要移动大量的数据。



动态数据结构：又称为链表。使用不连续的内存空间存储具有线性表特性的数据。

优点：数据的插入和删除都相当方便，不需要移动大量数据。另外动态数据结构的内存是在程序执行时才进行分配的，不需要事先声明，这样能充分节省内存。

缺点：设计数据结构时较为麻烦，另外在查找数据时，也无法像静态数据结构一般可以随机读取，必须直到按顺序找到该数据为止。

### 2.数组

#### 必要属性

(1) 起始地址：表示数组名(或数组第一个元素)所在内存中的起始地址。

(2) 维度：代表此数组是几维数组，如一维数组、二维数组、三维数组等

(3) 索引上下限：指元素在此数组中，内存所存储位置的上标与下标。

(4) 数组元素个数：是索引上限与索引下限的差加1.

(5) 数组类型：声明此数组的类型，它决定数组元素在内存所占容量的大小。



多维数组也必须在一维的物理内存中来表示，因为内存地址是按线性顺序递增的。通常情况下按照不同的程序设计语言，又可分为以下两种方式：

(1) 以行为主：一行一行按序存储，例如 C/C++、Java程序设计语言的数组存储方式。

(2) 以列为主： 一列一列的按序存储，例如Fortran语言的数组存储方式。

数组A(1:m, 1:n),m代表行数，n代表列数，以行为主：存储顺序为a<sub>1</sub><sub>1</sub>,a<sub>1</sub><sub>2</sub>,...a<sub>1</sub><sub>n</sub>,  a<sub>2</sub><sub>1</sub>, a<sub>2</sub><sub>2</sub>,...,a<sub>m</sub><sub>n</sub>,假设a为数组A在内存的起始位置，d为单位空间，那么数组元素a<sub>i</sub><sub>j</sub>与内存地址有下列关系：

Loc(a<sub>i</sub><sub>j</sub>) = a + n * (i - 1) * d + (j - 1) * d

如果以列为主，存储顺序为a<sub>1</sub><sub>1</sub>,a<sub>2</sub><sub>1</sub>, ... , a<sub>m</sub><sub>1</sub>, a<sub>1</sub><sub>2</sub>, <sub>2</sub><sub>2</sub>, ... , a<sub>m</sub><sub>n</sub>, 还是假设a为A在内存中的起始地址，d为单位空间，那么数组元素a<sub>i</sub><sub>j</sub>与内存的关系为：

Loc(a<sub>i</sub><sub>j</sub>) = a + m * (j - 1) * d + (i - 1) * d

这里因为A(1:m, 1:n)起始值都是1，所以比较特殊，如果我们把A声明为A(l<sub>1</sub>:u<sub>1</sub>, l<sub>2</sub>:u<sub>2</sub>),且对任意a<sub>i</sub><sub>j</sub>,有u<sub>1</sub>≥i≥l<sub>1</sub>, u<sub>2</sub>≥j≥l<sub>2</sub>, 这种方式称为注标表示法，此数组共有m=(u<sub>1</sub>-l<sub>1</sub>+1)行，n=(u<sub>2</sub>-l<sub>2</sub>+1)列，那么上面公式的通用写法为：

以行为主：Loc(a<sub>i</sub><sub>j</sub>) = a + n * ((i-l<sub>1</sub>+1) - 1) * d + ((j-l<sub>2</sub>+1) - 1) * d = a + n * (i - l<sub>1</sub>) * d + (j - l<sub>2</sub>) * d

以列为主：Loc(a<sub>i</sub><sub>j</sub>) = a + m * ((j-l<sub>2</sub>+1) - 1) * d + ((i-l<sub>1</sub>+1) - 1) * d = a + m *  (j - l<sub>2</sub>) * d + (i - l<sub>1</sub>) * d 

