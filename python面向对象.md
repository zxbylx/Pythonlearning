# python面向对象

1.类属性所有实例是共享的，但是实例可以修改类属性的值，只对这一个实例生效，其他属性还是使用类属性原来的值。实例修改类属性相当于自己创建了一个新的实例属性，只不过与类属性名字相同而已。



python3多继承C3算法，虽然说是广度优先，但既不是深度又不是广度。

查找顺序可以用F.mro()来打印

```python
class F(D, E):
	pass
print(F.mro())
```

![image-20210801173234885](C:\Users\48967\AppData\Roaming\Typora\typora-user-images\image-20210801173234885.png)

![image-20210801183839381](C:\Users\48967\AppData\Roaming\Typora\typora-user-images\image-20210801183839381.png)

实现校园管理系统的步骤：

1. 定模型：多少个类
   1. 找出关键独立名词：总部、分校、学员、老师、员工、课程、班级
2. 定属性：每个类有哪些属性
   1. 总部：名称、地址、电话、网址、财物账户、员工列表、学员列表人数、发工资、开分校、招员工
   2. 分校：继承总部
   3. 学员：姓名、年龄、班级、余额、上学打卡、交学费
   4. 员工：姓名、职务、部门、工资、上班打卡
   5. 老师：教学
   6. 课程：名称、价格、大纲
   7. 班级：课程、学期、学员列表、转学、退学、上课记录、考试
3. 定关系：每个类之间的关系
   1. 分校——》总部
   2. 学员——》班级
   3. 班级——》课程
   4. 班级——》校区
   5. 老师——》班级
   6. 老师——》员工
   7. 学员——》老师
   8. 员工——》校区
4. 画uml模型图
5. 写代码

#### classmethod类方法

类方法只能访问类属性，不能访问实例属性

classmethod方法里的self传递的是类本身，不是实例本身，所以只能访问类属性。

![image-20210802074202971](C:\Users\48967\AppData\Roaming\Typora\typora-user-images\image-20210802074202971.png)

#### staticmethod类方法

不能访问类属性和实例属性

静态方法隔离了它和类之间的关系，就相当于一个普通函数

#### property把一个方法变成一个属性

场景：去哪网查机票，看似查的是一个状态其实后面跟着好几步（连接机场IT系统，抓取数据，把各个数据解析成一致的格式）



#### 神奇的反射

可以过字符串的形式来操作对象的属性

对应四个方法：

```  
getattr()  获取属性
hasattr()  判断属性是否在类中
setattr()  设置属性
delattr()  删除属性
```



#### type可以动态生成一个类

```python
def __init__(self, name, age):
	self.name = name
	self.age = age
dog_class = type("Dog", (object,), {"role": "dog"}, "__init__": __init__})  # dog_class是类
d = dog_class("zhao", 20)  
```



面向过程是自己做事，是力亲为，面向过程是做管理，有事情就把事情分配给能做这件事的对象。

#### 异常处理

